!function(G,s,T){"use strict";var O="ht",M=G[O],X=M.Default,Q=X.isTouchable,I=M.Color,D="px",C="0",d="innerHTML",S="className",o="position",Z="absolute",F="width",y="height",E="left",w="top",P="right",x="bottom",i="max-width",A="max-height",a=null,_="none",n="",b=G.parseInt,Y=G.setTimeout,c=X.getInternal(),g=X.animate,p=I.titleIconBackground,k=function(){return document},B=function(X){return k().createElement(X)},H=function(){return B("div")},z=function(){return B("canvas")},N=function(u,q,M){u.style.setProperty(q,M,a)},q=function(N,L){return N.style.getPropertyValue(L)},v=function(E,H){E.appendChild(H)},m=function(w,d){w.removeChild(d)},V=function(x){var D=x.scrollWidth,W=x.scrollHeight;return x===k().body&&(D=Math.max(D,k().documentElement.scrollWidth),W=Math.max(W,k().documentElement.scrollHeight)),{width:D,height:W}},f=function(x){var e=x.touches[0];return e?e:x.changedTouches[0]};c.addMethod(X,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:p,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:p}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:p},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:p}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:p},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:p}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:p},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:p},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:p},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:p}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:p},{type:"rect",rect:[10,118,268,56],background:p},{type:"rect",rect:[10,213,268,56],background:p}]},panelTitleLabelColor:X.labelSelectColor,panelTitleLabelFont:X.labelFont,panelContentLabelFont:X.labelFont,panelTitleBackground:I.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:T},!0);var U=M.widget.Panel=function(F){var T=this,R=T._view=c.createView(null,T);T.$1i=0,T.$18i=new M.Notifier,T.$2i="leftTop",N(R,w,C),N(R,E,C),N(R,o,Z),N(R,"overflow","hidden"),T._interactor=new u(T),T.setConfig(F),T.addEventListener(function(V){var C=T.getPanelConfig(V.id),A=C.content;("beginRestore"===V.kind||"betweenResize"===V.kind||"endToggle"===V.kind)&&(A&&A.invalidate&&A.invalidate(),C.items&&C.items.forEach(function(h){h&&h.content&&h.content.invalidate&&h.content.invalidate()}))})};X.def(U,s,{ms_v:1,_dragContainment:"parent",setConfig:function(J){function w(Q){Q.expanded=!Q.expanded,_.togglePanel(Q.id,!0,!0)}if(J){var _=this,b=_._view.parentNode;_._view[d]=n,_._config=J,_.$35i=[],J.expanded==a&&(J.expanded=J.expand!=a?J.expand:!0);var t=_._view,W=_.$24i(J,t,!0),h=W[2],K=J.width;_.$35i.push(W[1]),J.items&&J.items.forEach(function(z){z.expanded==a&&(z.expanded=z.expand!=a?z.expand:!0);var m=_.$24i(z,h.children[0]);_.$35i.push(m[1])});var L=H();N(L,F,10+D),N(L,y,10+D),N(L,o,Z),N(L,x,C),N(L,P,C),L[S]="resize-area",v(t,L),_.$10i(),J.flowLayout&&N(t,o,"relative"),N(t,"opacity",C),v(k().body,t),K==a&&(K=t.offsetWidth),N(t,F,K+D),N(t,i,K+D),J.items&&J.items.forEach(function(b){w(b)}),J.buttons&&J.buttons.indexOf("toggle")<0||w(J),J.minimized==a&&J.minimize!=a&&(J.minimized=J.minimize),J.minimized&&J.minimizable!==!1&&_.minimize(!0),m(k().body,t),N(t,"opacity",n),b&&v(b,t),_.iv()}},getPanelConfig:function(f){var L=this,M=L._config,g=M.items;if(M.id===f)return M;if(g)for(var b=0;b<g.length;b++){var r=g[b];if(r.id===f)return r}},getPanelView:function(y){for(var U=this,B=U.$35i,s=0;s<B.length;s++){var z=B[s],V=z.parentNode;if(V.$15i===y)return V}},setDragContainment:function(T){this._dragContainment=T},getDragContainment:function(){return this._dragContainment},$20i:function(){var X=this._config,I=X.restoreIconSize||24;return I},$5i:function(x){var q=x.titleIconSize||16;return Q&&(q*=1.2),q},$4i:function(c){var p=c.titleHeight||X.widgetTitleHeight;return p},setTitle:function(d,z){if(z==a&&(z=this._config.id),z!=a){var j=this.getPanelConfig(z),k=this.getPanelView(z);j.title=d,k.querySelector(".panel-title span").innerHTML=d}},setInnerPanel:function(n){var s,V,r=this,L=n.id,l=r.$35i,u=!1;if(n.expanded==a&&(n.expanded=!0),L!=a){var g=r.getPanelConfig(L);if(g){u=!0;var x,J=r.getPanelView(L),t=J.parentNode,A=J.children[0];if(J!==r._view){r.$11i();for(x in g)delete g.key;for(x in n)g[x]=n[x];s=r.$24i(n,t,!1,J),V=s[1],t.removeChild(J);for(var D=0;D<l.length;D++)if(l[D]===A){l.splice(D,1,V);break}r.$12i(),g.expanded=!g.expanded,r.togglePanel(g.id,!0,!0),r.iv()}}}if(!u){r.$11i(),s=r.$24i(n,r._view.children[1]),V=s[1],l.push(V),r._config.items||(r._config.items=[]);var _=r._config.items;if(_.push(n),r.$12i(),_.length>1){var z=_[_.length-2],F=r.getPanelView(z.id).children[0];N(F,"border-bottom",r.$55i(z))}n.expanded=!n.expanded,r.togglePanel(n.id,!0,!0),r.iv()}},removeInnerPanel:function(O){var g,I=this,J=-1,M=I._config.items;if(M)for(g=0;g<M.length;g++){var k=M[g];if(k.id===O){J=g;break}}if(I.$11i(),J>=0){var n=I.$35i,z=I.getPanelView(O),m=z.children[0];for(g=0;g<n.length;g++)if(n[g]===m){n.splice(g,1);break}M.splice(J,1),z.parentNode.removeChild(z)}if(I.$12i(),M.length>0){var Y=M[M.length-1],v=I.getPanelView(Y.id).children[0];N(v,"border-bottom",I.$55i(Y))}},$6i:function(B){N(B,"cursor","pointer"),N(B,"display","inline-block"),N(B,"margin-right",(Q?8:4)+D),N(B,"vertical-align",w)},$24i:function(Y,q,O,F){var j=this,u=j._config.flowLayout,B=O?q:H(),w=j.$50i(Y),k=j.$3i(Y,O);B[S]="ht-widget-panel"+(O?" outer-panel":" inner-panel"),Y.borderWidth==a&&(Y.borderWidth=O?2:0);var I=Y.borderWidth;if(I="0 "+I+D+" "+I+D+" "+I+D+" ",N(B,"padding",I),v(B,k),v(B,w),O||(F?q.insertBefore(B,F):v(q,B)),!u&&O&&Y.minimizable!==!1){var h=z(),U=j.$20i(),l=Y.restoreToolTip;c.setCanvas(h,U,U),h[S]="control-button button-minimize button-minimize-restore",j.$6i(h),N(h,"display","none"),v(q,h),h.title=l||""}var K=Y.titleBackground||X.panelTitleBackground;if(N(B,"background-color",K),Y.id==a){for(var y=j.$1i++;j.getPanelConfig(y);)y=j.$1i++;Y.id=y}return B.$15i=Y.id,Y.width&&(B.style.width=Y.width+D),[B,k,w]},$9i:function(m){var I=z();I[S]="control-button button-toggle button-toggle-expand",I.title=m.toggleToolTip||"";var Q=this.$4i(m),l=this.$5i(m);return this.$6i(I),c.setCanvas(I,l,Q),I},$8i:function(m){var Y=z(),x="control-button button-independent-switch";Y[S]=m.independent===!0?x+" button-independent-switch-on":x+" button-independent-switch-off",Y.title=m.independentSwitchToolTip||"";var _=this.$4i(m),B=this.$5i(m);return this.$6i(Y),c.setCanvas(Y,B,_),Y},$7i:function(Z){var V=z();V[S]="control-button button-minimize button-minimize-minimize",V.title=Z.minimizeToolTip||"";var w=this.$4i(Z),R=this.$5i(Z);return this.$6i(V),c.setCanvas(V,R,w),V},$55i:function(R){var u=this._config,V=u.items,c=R.separatorWidth||X.panelSeparatorWidth,L=R.titleBackground||X.panelTitleBackground,n=R.expanded!==!1?L:R.separatorColor||X.panelSeparatorColor||X.brighter(L);return(u===R||V&&V.indexOf(R)===V.length-1)&&(c=0),c+D+" solid "+n},$3i:function(n,I){var $=this,k=$._config.flowLayout,l=H(),y=H(),J=$.$4i(n),T=n.titleBackground,M=n.titleColor,A=n.titleIcon,g=n.buttons;if(l[S]="panel-title",N(l,o,"relative"),N(l,"background",T||X.panelTitleBackground),N(l,"color",M||X.panelTitleLabelColor),N(l,w,C),N(l,"box-sizing","border-box"),N(l,"-moz-box-sizing","border-box"),N(l,"padding","0 5px 0 0"),N(l,F,"100%"),N(l,"cursor","default"),N(l,"white-space","nowrap"),N(l,"font",X.panelTitleLabelFont),A){var L=z();L[S]="control-button panel-title-icon";var b=$.$4i(n),u=$.$5i(n);$.$6i(L),c.setCanvas(L,u,b),v(l,L)}var f=B("span");N(f,"display","inline-block"),N(f,"margin-left","5px"),f[d]="<span>"+n.title+"</span>",v(l,f),N(l,"line-height",J+D),y[S]="panel-title-controls",N(y,o,Z),N(y,E,C),N(y,P,5+D),N(y,w,C),N(y,x,C),N(y,"text-align",P);var t=function(){var T=$.$9i(n);v(y,T)},s=function(){if(!k&&I&&n.minimizable!==!1){var F=$.$7i(n);v(y,F)}},e=function(){if(!I){var s=$.$8i(n);v(y,s)}},G=function(P){var t=z();t[S]="control-button custombutton-"+P.name,t.title=P.toolTip||"",t._action=P.action;var G=$.$4i(n),i=$.$5i(n);$.$6i(t),c.setCanvas(t,i,G),v(y,t)};if(g)for(var p=0;p<g.length;p++){var O=g[p];"string"==typeof O?"minimize"===O?s():"independentSwitch"===O?e():"toggle"===O&&t():"object"==typeof O&&G(O)}else s(),t();return v(l,y),l},$50i:function(c){var Z=H(),U=c.contentHeight,r=H();if(N(r,o,"relative"),Z[S]="panel-body",N(Z,"overflow","hidden"),N(Z,"background","white"),N(Z,"font",X.panelContentLabelFont),v(Z,r),c.content){var q;c.content.getView?(v(r,c.content.getView()),q=r.children[0]):c.content instanceof Element?(v(r,c.content),q=r.children[0]):r[d]=c.content,q&&(N(q,F,"100%"),N(q,y,"100%")),U&&N(r,y,U+D)}return Z},$10i:function(){var t=this,H=t._config,k=t._view,$=k.querySelector(".resize-area").style;$.display=H.flowLayout||H.minimized===!0||H.expanded===!1?_:"block"},$11i:function(){var d=this._view,U=d.children[1];this.$13i>=0?this.$13i++:this.$13i=1,N(U,A,n),N(d,i,n)},$12i:function(){var Y=--this.$13i;if(0===Y){var u=this._view,s=u.children[1];N(s,A,s.scrollHeight+D),N(u,i,u.offsetWidth+D)}},$14i:function(){var P=this._view,p=P.children[0],b=p.children[1].children,U=this._config,T=0;P.$26i=P.offsetWidth,T+=p.children[0].offsetWidth,U.titleIcon&&(T+=p.children[1].offsetWidth,b=p.children[2].children);for(var h=0;h<b.length;h++){var k=b[h];T+=k.offsetWidth+5}P.$51i=T+15},togglePanel:function(U,p,h){function L(j){var T=j.target,o=T.parentNode,k=w.getPanelConfig(o.$15i);delete o.$19i,T!==G&&w.$12i(),w.$18i.fire({kind:"endToggle",target:w,id:k.id})}for(var w=this,r=w._view,G=r.children[1],P=a,H=w.$35i,J=H.length,f=w._config.exclusive,s=w.$2i,I=[],j=w._config.narrowWhenCollapse,T=0;J>T;T++){var Q=H[T],c=Q.parentNode,q=c.$15i,X=w.getPanelConfig(q);q===U&&(P=c),!p&&f&&X.expanded&&c!==r&&q!==U&&X.independent!==!0&&I.push(c)}if(P&&!P.$19i){P.$19i=!0;var R=P.children[1],E=P.querySelector(".button-toggle"),B=w.getPanelConfig(P.$15i);if(!E)return;P===r||B.expanded||B.independent===!0||I.forEach(function(Z){w.togglePanel(Z.$15i,!0)}),P!==r&&w.$11i();var O=200;if(h&&(O=0),w.$18i.fire({kind:"beginToggle",target:w,id:P.$15i}),B.expanded){var x=function(){E[S]="control-button button-toggle",E[S]+=s.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",N(R,F,R.clientWidth+D),B.expanded=!1,N(P.children[0],"border-bottom",w.$55i(B)),g(R).duration(O).set("opacity",C).set(A,C).end(L),j&&P===r&&g(P).duration(O).set(i,P.$51i+D).end(),P[S]+=" panel-collapse",g(P).duration(O).set("padding-bottom",C).end(),w.$28i(B,!0),w.$10i()};j&&P===r&&w.$14i(),x()}else E[S]="control-button button-toggle",E[S]+=s.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",N(R,F,n),B.expanded=!0,N(P.children[0],"border-bottom",w.$55i(B)),g(R).duration(O).set("opacity","1").set(A,R.scrollHeight+D).end(L),j&&P===r&&g(P).duration(O).set(i,(P.$26i||P.offsetWidth)+D).end(),P[S]=P[S].replace(" panel-collapse",n),g(P).duration(O).set("padding-bottom",B.borderWidth+D).end(),w.$28i(B,!0),w.$10i()}},$16i:function(){var M=this._view,v=M.$22i,g=M.$23i,C=this.$2i;return v==a&&(C.indexOf(E)>=0?v=M.$22i=0:C.indexOf(P)>=0&&(v=M.$22i=100)),g==a&&(C.indexOf("Top")>=0?g=M.$23i=0:C.indexOf("Bottom")>=0&&(g=M.$23i=100)),[v,g]},$25i:function(){var O=this,u=O._view,d=u.$21i,U=O.$20i(),l=O.$16i(),o=l[0],r=l[1],G=O.$2i;u.children[0].style.display=_,u.children[1].style.display=_,u.children[2].style.display=n,N(u,"padding",C),N(u,i,U+D),"leftTop"===G?(N(u,E,b(q(u,E))+(d.width-U)*o/100+D),N(u,w,b(q(u,w))+(d.height-U)*r/100+D)):"leftBottom"===G?(N(u,E,b(q(u,E))+(d.width-U)*o/100+D),N(u,x,b(q(u,x))+(d.height-U)*(1-r/100)+D)):"rightTop"===G?(N(u,P,b(q(u,P))+(d.width-U)*(1-o/100)+D),N(u,w,b(q(u,w))+(d.height-U)*r/100+D)):"rightBottom"===G&&(N(u,P,b(q(u,P))+(d.width-U)*(1-o/100)+D),N(u,x,b(q(u,x))+(d.height-U)*(1-r/100)+D)),u[S]+=" panel-minimized",O.$18i.fire({kind:"endMinimize",target:O,id:u.$15i})},$17i:function(){var h=this,M=h._config,B=h._view;N(B,"-webkit-transform",n),N(B,"-ms-transform",n),N(B,"transform",n),M.minimized?h.$25i():(h.$18i.fire({kind:"endRestore",target:h,id:M.id}),B[S]=B[S].replace(" panel-minimized",n)),delete B.$19i},minimize:function(E){var C=this,y=C._view;if(!y.$19i&&y.children[0].style.display!==_){var q=C._config,o=y.getBoundingClientRect(),v=C.$20i(),s=o.width,k=o.height,t=v/s,Q=v/k,d=C.$16i(),c=d[0],D=d[1];y.$52i=t,y.$53i=Q,y.$21i=o,C.$18i.fire({kind:"beginMinimize",target:C,id:y.$15i});var Z=200;E&&(Z=0),q.minimized=!0,y.$19i=!0,q.expanded&&(y.$26i=y.offsetWidth);var W=c+"% "+D+"%";N(y,"-webkit-transform-origin",W),N(y,"-ms-transform-origin",W),N(y,"transform-origin",W),g(y).duration(Z).scale(t,Q).end(function(){C.$17i()}),C.$10i()}},restore:function(){var C,L,R,v,G,A,j,u,h,z,Q,$,X=this,t=X._view,I=t.parentNode,c=X._config;if(!t.$19i&&c.minimized){var n=t.$21i,l=t.$52i,O=t.$53i,f=c.borderWidth+D,d=f,p=f,m=0,k=X.$20i(),W=V(I),s=X.$2i;"leftTop"===s?(C=b(q(t,E)),R=b(q(t,w)),G=C,j=R,h=C+n.width-W.width,z=R+n.height-W.height,h>0&&(h>=C?C=0:C-=h),z>0&&(z>=R?R=0:R-=z),Q=100*((G-C)/(n.width-k)),$=100*((j-R)/(n.height-k)),N(t,E,C+D),N(t,w,R+D)):"leftBottom"===s?(C=b(q(t,E)),v=b(q(t,x)),G=C,u=v,h=C+n.width-W.width,z=v+n.height-W.height,h>0&&(h>=C?C=0:C-=h),z>0&&(z>=v?v=0:v-=z),Q=100*((G-C)/(n.width-k)),$=100*(1-(u-v)/(n.height-k)),N(t,E,C+D),N(t,x,v+D)):"rightTop"===s?(L=b(q(t,P)),R=b(q(t,w)),A=L,j=R,h=L+n.width-W.width,z=R+n.height-W.height,h>0&&(h>=L?L=0:L-=h),z>0&&(z>=R?R=0:R-=z),Q=100*(1-(A-L)/(n.width-k)),$=100*((j-R)/(n.height-k)),N(t,P,L+D),N(t,w,R+D)):"rightBottom"===s&&(L=b(q(t,P)),v=b(q(t,x)),A=L,u=v,h=L+n.width-W.width,z=v+n.height-W.height,h>0&&(h>=L?L=0:L-=h),z>0&&(z>=v?v=0:v-=z),Q=100*(1-(A-L)/(n.width-k)),$=100*(1-(u-v)/(n.height-k)),N(t,P,L+D),N(t,x,v+D)),t.children[0].style.display="block",t.children[1].style.display="block",t.children[2].style.display=_,N(t,"padding",m+" "+d+" "+p+" "+f),N(t,"-webkit-transform","scale("+l+", "+O+")"),N(t,"-ms-transform","scale("+l+", "+O+")"),N(t,"transform","scale("+l+", "+O+")"),t.$22i=Q,t.$23i=$,N(t,"-webkit-transform-origin",Q+"% "+$+"%"),N(t,"-ms-transform-origin",Q+"% "+$+"%"),N(t,"transform-origin",Q+"% "+$+"%"),c.narrowWhenCollapse&&!c.expanded?N(t,i,t.$51i+D):N(t,i,t.$26i+D),X.$18i.fire({kind:"beginRestore",target:X,id:t.$15i}),t.$19i=!0,c.minimized=!1,Y(function(){g(t).scale(1,1).end(function(){X.$17i()})},30),X.$10i()}},addEventListener:function(R,q,b){this.$18i.add(R,q,b)},removeEventListener:function(O,k){this.$18i.remove(O,k)},setPosition:function(l,d){var f=this._view,H=this.$2i;"leftTop"===H?(N(f,E,l+D),N(f,w,d+D),N(f,P,n),N(f,x,n)):"leftBottom"===H?(N(f,E,l+D),N(f,x,d+D),N(f,P,n),N(f,w,n)):"rightTop"===H?(N(f,P,l+D),N(f,w,d+D),N(f,E,n),N(f,x,n)):"rightBottom"===H&&(N(f,P,l+D),N(f,x,d+D),N(f,E,n),N(f,w,n)),delete f.$22i,delete f.$23i},getPosition:function(){var y=this._view,N=this.$2i;return"leftTop"===N?{x:b(q(y,E)),y:b(q(y,w))}:"leftBottom"===N?{x:b(q(y,E)),y:b(q(y,x))}:"rightTop"===N?{x:b(q(y,P)),y:b(q(y,w))}:"rightBottom"===N?{x:b(q(y,P)),y:b(q(y,x))}:void 0},setPositionRelativeTo:function(d){var E=this,G=E._view.querySelectorAll(".button-toggle"),N="control-button button-toggle",I=E.getPosition();E.$2i=d,E.setPosition(I.x,I.y);for(var e=0;e<G.length;e++){var Q=G[e],L=E.getPanelConfig(Q.parentNode.parentNode.parentNode.$15i);Q[S]=L.expanded?d.indexOf("Bottom")>=0?N+" button-toggle-collapse":N+" button-toggle-expand":d.indexOf("Bottom")>=0?N+" button-toggle-expand":N+" button-toggle-collapse"}E.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(i){var T=this;T._68I||(T._68I=1,X.callLater(T.validate,T,a,i),T.onInvalidated&&T.onInvalidated(),T.fireViewEvent("invalidate"));var o=this._config,r=o.content;r&&r.invalidate&&r.invalidate(),o.items&&o.items.forEach(function(O){O&&O.content&&O.content.invalidate&&O.content.invalidate()})},getIconStretch:function(){var k=this._config.iconStretch||"fill";return k},$27i:function(g,v,y,T,J){var l=c.initContext(g);c.translateAndScale(l,0,0,1),l.clearRect(0,0,y,y);var F=(y-T)/2;X.drawStretchImage(l,X.getImage(v),this.getIconStretch(J),0,F,T,T),l.restore()},$28i:function(Q){var q,C,d,h=this,T=Q.id,K=h.getPanelView(T),H=K.querySelector(".button-toggle"),p=h.$2i.indexOf("Bottom")>=0;if(C=p?X.panelCollapseIcon:X.panelExpandIcon,d=p?X.panelExpandIcon:X.panelCollapseIcon,H){q=Q.expanded?X.getImage(d):X.getImage(C);var m=h.$4i(Q),E=h.$5i(Q);h.$27i(H,q,m,E,"toggle")}},$29i:function(z){var t,M=this,o=z.id,v=M.getPanelView(o),d=v.querySelector(".button-independent-switch"),P=X.panelUnLockIcon,Y=X.panelLockIcon;if(d){t=z.independent!==!0?X.getImage(Y):X.getImage(P);var c=M.$4i(z),q=M.$5i(z);M.$27i(d,t,c,q,"switch")}},$30i:function(v){var V=this,O=v.id,x=V.getPanelView(O),M=x.querySelector(".button-minimize-minimize"),w=X.panelMinimizeIcon;if(M){var i=V.$4i(v),C=V.$5i(v);V.$27i(M,X.getImage(w),i,C,"miminize")}},$31i:function(Q){var K=this,p=Q.id,y=K.getPanelView(p),e=y.querySelector(".button-minimize-restore"),W=Q.titleIcon||X.panelRestoreIcon;if(e){var U=K.$20i();K.$27i(e,X.getImage(W),U,U,"restore")}},$32i:function(N){var e=this,p=N.id,O=e.getPanelView(p);if(N.buttons){var G=N.buttons;G.forEach(function(l){var s=l.name,Y=l.icon;if(s&&Y){var S=O.querySelector(".custombutton-"+s);if(S){var b=e.$4i(N),i=e.$5i(N)-1;e.$27i(S,X.getImage(Y),b,i,"custom")}}})}},$33i:function(h){var f=this,o=h.id,L=f.getPanelView(o),R=L.querySelector(".panel-title-icon"),v=h.titleIcon;if(R&&v){var U=f.$4i(h),d=f.$5i(h);f.$27i(R,X.getImage(v),U,d,"title")}},validateImpl:function(){var f=this,A=f._config;f.$28i(A),f.$30i(A),f.$31i(A),f.$32i(A),f.$33i(A),A.items&&A.items.forEach(function(i){f.$28i(i),f.$29i(i),f.$32i(i)})}});var u=function(C){var k=this,Z=C.getView();k.$34i=C,k.addListeners(),Z.addEventListener("dblclick",k.$42i.bind(k))};X.def(u,s,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(Z){for(var V=this.$34i,r=Z.target,M=V.$35i,W=M.length,o=0;W>o;o++){var Y=M[o];Y.contains(r)&&(Z.preventDefault(),V.togglePanel(Y.parentNode.$15i))}},handle_touchstart:function(A){var V=this,E=V.$34i,k=E._config,w=k.flowLayout,y=A;if(X.preventDefault(A),X.isLeftButton(A)){var n=A.target,Z=E.getView().children[0],M=E.getView().querySelector(".button-minimize-restore");Q&&(y=f(A));var u=V.$40i={x:y.pageX,y:y.pageY};V.$41i={x:u.x,y:u.y},(!w&&Z.contains(n)||M&&M.contains(n))&&(V.$38i=!0,X.startDragging(V,A)),!w&&V.handle_mousemove(A)&&(V.$37i=!0,X.startDragging(V,A),E.$11i())}},handle_mousedown:function(D){this.handle_touchstart(D)},handle_touchend:function(U){var o=this,x=o.$34i,n=U.target,M=x.$35i,E=M.length,N=0,Q=x.getView(),G=Q.querySelector(".button-minimize"),D=Q.querySelector(".button-minimize-restore");if(!o.$39i&&!o.$36i){if(G&&G.contains(n)||D&&D.contains(n))U.preventDefault(),x._config.minimized?x.restore():x.minimize();else for(;E>N;N++){var H=M[N],l=H.parentNode,w=l.$15i,J=x.getPanelConfig(w),F=H.querySelector(".button-toggle"),h=H.querySelector(".button-independent-switch");if(F===n)U.preventDefault(),x.togglePanel(w);else if(h===n){U.preventDefault();var Y="button-independent-switch-off",e="button-independent-switch-on";J.independent=J.independent==a?!0:!J.independent,h[S]=J.independent?h[S].replace(Y,e):h[S].replace(e,Y),x.$29i(J)}else n[S]&&n[S].indexOf("control-button custombutton-")>=0&&H.contains(n)&&n._action.call(x,J,x.getPanelView(w),U)}delete o.$40i,delete o.$41i}},handle_mouseup:function(r){this.handle_touchend(r)},handleWindowTouchEnd:function(){var A=this,u=A.$34i;A.$37i&&A.$36i?(u.$18i.fire({kind:"endResize",target:u,id:u.getView().$15i}),u.$12i()):A.$38i&&A.$39i&&u.$18i.fire({kind:"endMove",target:u,id:u.getView().$15i}),this.clear()},handleWindowMouseUp:function(R){this.handleWindowTouchEnd(R)},handle_mousemove:function($){var N=this,A=N.getView(),B=A.querySelector(".resize-area"),v=B.getBoundingClientRect(),H={x:v.left,y:v.top,width:v.width,height:v.height};$=Q?f($):$;var j=$.clientX,I=$.clientY,D=N.$34i._config;return D.expanded&&D.minimized!==!0&&X.containsPoint(H,{x:j,y:I})?(A.style.cursor="nwse-resize",!0):(A.style.cursor=n,void 0)},handleWindowTouchMove:function(d){d.preventDefault();var j=d;Q&&(j=f(d));var I=this,u=I.$40i,H=I.$41i;if(!(H.x==u.x&&H.y==u.y&&X.getDistance(H,{x:j.pageX,y:j.pageY})<=1)){var Y=I.$34i,a=I.getView(),c=a.parentNode,W=Y._config,U=W.resizeMode||"wh",_=j.pageX-u.x,s=j.pageY-u.y,h=Y.$2i;if(I.$37i){var v=a.children[1].children[0],J=a.clientWidth,C=v.clientHeight,A=J+_,R=C+s;A=Math.max(A,100),R=Math.max(R,100),"w"===U?(N(a,F,A+D),W.width=A,u.x+=A-J,h.indexOf(P)>=0&&N(a,P,b(q(a,P))-(A-J)+D)):"h"===U?(N(v,y,R+D),W.contentHeight=R,u.y+=R-C,h.indexOf("Bottom")>=0&&N(a,x,b(q(a,x))-(R-C)+D)):"wh"===U&&(N(a,F,A+D),N(v,y,R+D),W.width=A,W.contentHeight=R,u.x+=A-J,u.y+=R-C,h.indexOf("right")>=0&&N(a,P,b(q(a,P))-(A-J)+D),h.indexOf("Bottom")>=0&&N(a,x,b(q(a,x))-(R-C)+D)),I.$36i?Y.$18i.fire({kind:"betweenResize",target:Y,id:Y.getView().$15i}):(I.$36i=!0,Y.$18i.fire({kind:"beginResize",target:Y,id:Y.getView().$15i}))}else if(I.$38i){var T,e,S,z,K,g,O,i,r,n,m=a.getBoundingClientRect(),G=m.width,l=m.height,M=V(c),k=M.width,L=M.height,p=Y._dragContainment;"leftTop"===h?(T=b(q(a,E))||0,S=b(q(a,w))||0,K=T+_,O=S+s,"parent"===p&&(K+G>k&&(K=k-G),O+l>L&&(O=L-l),0>K&&(K=0),0>O&&(O=0)),r=K-T,n=O-S,Y.setPosition(K,O),u.x+=r,u.y+=n):"rightBottom"===h?(e=b(q(a,P))||0,z=b(q(a,x))||0,g=e-_,i=z-s,"parent"===p&&(0>g&&(g=0),0>i&&(i=0),g+G>k&&(g=k-G),i+l>L&&(i=L-l)),r=g-e,n=i-z,Y.setPosition(g,i),u.x-=r,u.y-=n):"rightTop"===h?(e=b(q(a,P))||0,S=b(q(a,w))||0,g=e-_,O=S+s,"parent"===p&&(0>g&&(g=0),0>O&&(O=0),g+G>k&&(g=k-G),O+l>L&&(O=L-l)),r=g-e,n=O-S,Y.setPosition(g,O),u.x-=r,u.y+=n):"leftBottom"===h&&(T=b(q(a,E))||0,z=b(q(a,x))||0,K=T+_,i=z-s,"parent"===p&&(0>K&&(K=0),0>i&&(i=0),K+G>k&&(K=k-G),i+l>L&&(i=L-l)),r=K-T,n=i-z,Y.setPosition(K,i),u.x+=r,u.y-=n),I.$39i?Y.$18i.fire({kind:"betweenMove",target:Y,id:Y.getView().$15i}):(I.$39i=!0,Y.$18i.fire({kind:"beginMove",target:Y,id:Y.getView().$15i}))}}},handleWindowMouseMove:function(f){this.handleWindowTouchMove(f)}});var t=M.widget.PanelGroup=function(_){var e=this,i=e._view=c.createView(null,e);i.style.border="1px dashed black",i.style.position="absolute",i.style.background="rgba(120, 120, 120, 0.4)",e.$48i=new M.List,e._tolerance=100,e._config=_||{hGap:0,vGap:0},e.bindHandlePanelMove=e.handlePanelMove.bind(e),e.bindHandlePanelEvent=e.handlePanelEvent.bind(e),e.invalidate()};X.def(t,s,{invalidate:function(){var c=this;c._68I||(c._68I=1,Y(function(){c.validate()},50))},validate:function(){if(this._68I){delete this._68I;var n=this.$48i.get(0);if(n){var K=n.getView().parentNode;K&&(this.layoutPanels(K,"leftTop"),this.layoutPanels(K,"rightTop"),this.layoutPanels(K,"leftBottom"),this.layoutPanels(K,"rightBottom"))}}},setLeftTopPanels:function(){var H=this,J=H.$43i,Y=H.$48i;J==a&&(J=H.$43i=new M.List);for(var K=0;K<arguments.length;K++){var q=arguments[K];if("string"==typeof q)J.$49i=q;else{if(q._config.flowLayout)continue;q.setPositionRelativeTo("leftTop"),J.contains(q)||J.add(q),Y.contains(q)||H.add(q)}}},setRightTopPanels:function(){var K=this,j=K.$44i,r=K.$48i;j==a&&(j=K.$44i=new M.List);for(var z=0;z<arguments.length;z++){var L=arguments[z];if("string"==typeof L)j.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("rightTop"),j.contains(L)||j.add(L),r.contains(L)||K.add(L)}}},setLeftBottomPanels:function(){var i=this,D=i.$45i,H=i.$48i;D==a&&(D=i.$45i=new M.List);for(var $=0;$<arguments.length;$++){var p=arguments[$];if("string"==typeof p)D.$49i=p;else{if(p._config.flowLayout)continue;p.setPositionRelativeTo("leftBottom"),D.contains(p)||D.add(p),H.contains(p)||i.add(p)}}},setRightBottomPanels:function(){var Z=this,Y=Z.$46i,o=Z.$48i;Y==a&&(Y=Z.$46i=new M.List);for(var A=0;A<arguments.length;A++){var k=arguments[A];if("string"==typeof k)Y.$49i=k;else{if(k._config.flowLayout)continue;k.setPositionRelativeTo("rightBottom"),Y.contains(k)||Y.add(k),o.contains(k)||Z.add(k)}}},add:function(w){if(!w._config.flowLayout){var c=this,b=c.$48i;b.contains(w)||(w.addEventListener(c.bindHandlePanelMove),w.addEventListener(c.bindHandlePanelEvent),b.add(w))}},remove:function(z){var d=this,O=d.$48i;O.contains(z)&&(z.removeEventListener(d.bindHandlePanelMove),z.removeEventListener(d.bindHandlePanelEvent),O.remove(z),d.$43i.contains(z)&&d.$43i.remove(z),d.$44i.contains(z)&&d.$44i.remove(z),d.$45i.contains(z)&&d.$45i.remove(z),d.$46i.contains(z)&&d.$46i.remove(z))},layoutPanels:function(F,K,S){var e=this,i=e._config,c=i.hGap||0,z=i.vGap||0;if(F){var g=e.$43i;if("leftBottom"===K?g=e.$45i:"rightTop"===K?g=e.$44i:"rightBottom"===K&&(g=e.$46i),!g)return;var Y=g.$49i,k=c,P=z;if(F.contains(e._view)&&F.removeChild(e._view),g&&g.size()>0)for(var V=0;V<g.size();V++){var U=g.get(V),l=U.getView();F=F||l.parentNode,S!==V?U.setPosition(k,P):("leftTop"===K?(e._view.style.right="",e._view.style.bottom="",e._view.style.left=k+D,e._view.style.top=P+D):"leftBottom"===K?(e._view.style.right="",e._view.style.top="",e._view.style.left=k+D,e._view.style.bottom=P+D):"rightTop"===K?(e._view.style.left="",e._view.style.bottom="",e._view.style.right=k+D,e._view.style.top=P+D):"rightBottom"===K&&(e._view.style.left="",e._view.style.top="",e._view.style.right=k+D,e._view.style.bottom=P+D),e._view.style.width=l.offsetWidth+D,e._view.style.height=l.offsetHeight+D,F.insertBefore(e._view,l)),"h"===Y?k+=l.offsetWidth+c:"v"===Y&&(P+=l.offsetHeight+z)}}},handlePanelEvent:function(d){if("beginToggle"===d.kind||"endToggle"===d.kind||"beginRestore"===d.kind||"endMinimize"===d.kind||"endResize"===d.kind){var R=this,L=d.target,s=L.getView(),k=s.parentNode,X=R.$43i,F=R.$44i,r=R.$45i,t=R.$46i,Q=R._config,W=a,l=a,J=L.$47i;if(J==a&&(J=L.$47i=0),"beginToggle"===d.kind?J=L.$47i=J+1:"endToggle"===d.kind&&(J=L.$47i=J-1),X&&X.contains(L)?(W="leftTop",l=X):r&&r.contains(L)?(W="leftBottom",l=r):F&&F.contains(L)?(W="rightTop",l=F):t&&t.contains(L)&&(W="rightBottom",l=t),"beginToggle"===d.kind&&W&&1===J){var O=H(),q=O.style,f=l.$49i,S="each";q.fontSize="0",q.position="absolute",q.width="100%","leftTop"===W?(q.left=0,q.top=0):"leftBottom"===W?(q.left=0,q.bottom=0,"v"===f&&(S="reverseEach")):"rightTop"===W?(q.right=0,q.top=0,q.textAlign="right","h"===f&&(S="reverseEach")):"rightBottom"===W&&(q.right=0,q.bottom=0,q.textAlign="right",S="reverseEach"),l[S](function(m){var G=m.getView(),T=G.style,R=H();T.position="static",R.style.textAlign="left",R.style.position="relative",R.style.display="inline-block","leftTop"===W?(R.style.marginLeft=Q.hGap+D,R.style.marginTop=Q.vGap+D):"leftBottom"===W?(R.style.marginLeft=Q.hGap+D,R.style.marginBottom=Q.vGap+D):"rightTop"===W?(R.style.marginRight=Q.hGap+D,R.style.marginTop=Q.vGap+D):"rightBottom"===W&&(R.style.marginRight=Q.hGap+D,R.style.marginBottom=Q.vGap+D),R.appendChild(G),O.appendChild(R),"h"===f?R.style.verticalAlign="leftTop"===W||"rightTop"===W?"top":"bottom":O.appendChild(B("br"))}),R.$54i=O,k.appendChild(O)}else"endToggle"===d.kind&&W&&0===J?Y(function(){k=k.parentNode.parentNode,k.removeChild(R.$54i),delete R.$54i,l.each(function(R){var $=R.getView(),s=$.style;s.position="absolute",k.appendChild($)}),R.layoutPanels(k,W)},30):("beginRestore"===d.kind||"endMinimize"===d.kind||"endResize"===d.kind)&&W&&R.layoutPanels(k,W)}},handlePanelMove:function(i){if(!(i.kind.indexOf("Move")<0)){var v=this,A=v._config,N=A.hGap||0,U=A.vGap||0,K=i.target,x=K._view,y=x.getBoundingClientRect(),j=y.width,J=y.height,I=j/2,S=J/2,F=x.parentNode,o=v.$43i,g=v.$44i,O=v.$45i,s=v.$46i,p=F.getBoundingClientRect(),Q=v._tolerance;if("endMove"===i.kind){var q=v._corner;q&&(K.setPositionRelativeTo(q),v.layoutPanels(F,q)),delete v._corner}if("betweenMove"===i.kind){var r=p.left,w=p.top,Z=p.width,z=p.height,R=y.left+j/2,P=y.top+J/2;o==a&&(o=v.$43i=new M.List),O==a&&(O=v.$45i=new M.List),g==a&&(g=v.$44i=new M.List),s==a&&(s=v.$46i=new M.List),delete v._corner,o.contains(K)?(o.remove(K),v.layoutPanels(F,"leftTop")):O.contains(K)?(O.remove(K),v.layoutPanels(F,"leftBottom")):g.contains(K)?(g.remove(K),v.layoutPanels(F,"rightTop")):s.contains(K)&&(s.remove(K),v.layoutPanels(F,"rightBottom"));var n=function(l,f){var x=r+N,n=w+U;if(0===f.size()){var i=x+I,p=n+S;"leftBottom"===l?p=w+z-U-S:"rightTop"===l?i=r+Z-N-I:"rightBottom"===l&&(i=r+Z-N-I,p=w+z-U-S);var J=R-i,u=P-p,h=Math.sqrt(J*J+u*u);if(Q>h)return v._corner=l,f.add(K),v.layoutPanels(F,l,0),!0}else if(1===f.size()){var $=f.get(0),X=$.getView().getBoundingClientRect(),Y=X.left+I,L=X.top+S,E=X.left+X.width+N+I,G=n+S,c=x+I,g=X.top+X.height+U+S;"leftBottom"===l?(L=X.top+X.height-S,G=w+z-U-S,g=X.top-U-S):"rightTop"===l?(Y=X.left+X.width-I,E=X.left-N-I,c=r+Z-N-I):"rightBottom"===l&&(Y=X.left+X.width-I,L=X.top+X.height-S,E=X.left-N-I,G=w+z-U-S,c=r+Z-N-I,g=X.top-U-S);var H=R-Y,A=P-L,o=R-E,m=P-G,D=R-c,T=P-g,C=b(Math.sqrt(H*H+A*A)),e=b(Math.sqrt(o*o+m*m)),_=b(Math.sqrt(D*D+T*T)),V=[C,e,_];V.sort(function(q,G){return q-G});var q=V[0];if(Q>q){if(v._corner=l,q===C)return f.add(K,0),v.layoutPanels(F,l,0),!0;if(q===e)return f.add(K),f.$49i="h",v.layoutPanels(F,l,1),!0;if(q===_)return f.add(K),f.$49i="v",v.layoutPanels(F,l,1),!0}}else if(f.size()>1){for(var O=a,M={},d=[],s=f.$49i,W=0;W<f.size();W++){var y=f.get(W),B=y.getView(),k=B.getBoundingClientRect(),j=k.left+I,t=k.top+S;"leftBottom"===l?t=k.top+k.height-S:"rightTop"===l?j=k.left+k.width-I:"rightBottom"===l&&(j=k.left+k.width-I,t=k.top+k.height-S),W===f.size()-1&&(O=k);var J=R-j,u=P-t,h=b(Math.sqrt(J*J+u*u));M[h]=W,d.push(h)}"leftTop"===l&&"h"===s?(i=O.left+O.width+N+I,p=n+S):"leftTop"===l&&"v"===s?(i=x+I,p=O.top+O.height+U+S):"leftBottom"===l&&"h"===s?(i=O.left+O.width+N+I,p=w+z-U-S):"leftBottom"===l&&"v"===s?(i=x+I,p=O.top-U-S):"rightTop"===l&&"h"===s?(i=O.left-N-I,p=n+S):"rightTop"===l&&"v"===s?(i=r+Z-N-I,p=O.top+O.height+U+S):"rightBottom"===l&&"h"===s?(i=O.left-N-I,p=w+z-U-S):"rightBottom"===l&&"v"===s&&(i=r+Z-N-I,p=O.top-U-S),J=R-i,u=P-p,h=b(Math.sqrt(J*J+u*u)),M[h]=W,d.push(h),d.sort(function(w,U){return w-U});var q=d[0];if(Q>q)return v._corner=l,f.add(K,M[q]),v.layoutPanels(F,l,M[q]),!0}};n("leftTop",o)||n("leftBottom",O)||n("rightTop",g)||n("rightBottom",s)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);