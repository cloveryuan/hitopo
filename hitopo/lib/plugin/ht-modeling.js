!function(u,a,X){"use strict";var z="ht",v=u[z],m=null,J=Math,E=J.PI,e=J.cos,O=J.sin,w=J.abs,V=J.max,W=J.sqrt,R=1e-5,H=v.Default,C=H.def,L=H.startAnim,N=H.createMatrix,D=H.transformVec,S=H.getInternal(),K=S.addMethod,g=S.superCall,q=S.toPointsArray,_=S.createNormals,d=S.toFloatArray,j=S.glMV,s=S.batchShape,f=S.createNodeMatrix,l=S.getFaceInfo,A=S.transformAppend,I=S.drawFaceInfo,x=S.createAnim,h=S.cube(),c=h.is,y=h.vs,n=h.uv,P=S.ui(),G=v.Node,T=v.Shape,o="h",t="v",U="front",r="back",F="left",Y="right",M="top",B="bottom",k="dw.expanded",b=".expanded",$="dw.angle",Q=".angle",p=function(L,y,w){C(z+"."+L,y,w)},i=function(X,p,H){H?X.push(p.x,p.y):X.push(p.x,p.y,p.z)},Z=[1,0,0],rb=function(V,u,A,y){var K,n,l,M,C=0,z=[];if(y)for(K=y.length;K>C;C+=3)n=y[C],l=y[C+1],M=y[C+2],z.push(new Te([new bh([u[3*n],u[3*n+1],u[3*n+2]],Z,A?[A[2*n],A[2*n+1],0]:m),new bh([u[3*l],u[3*l+1],u[3*l+2]],Z,A?[A[2*l],A[2*l+1],0]:m),new bh([u[3*M],u[3*M+1],u[3*M+2]],Z,A?[A[2*M],A[2*M+1],0]:m)],V));else for(K=u.length;K>C;C+=3)n=C,l=C+1,M=C+2,z.push(new Te([new bh([u[3*n],u[3*n+1],u[3*n+2]],Z,A?[A[2*n],A[2*n+1],0]:m),new bh([u[3*l],u[3*l+1],u[3*l+2]],Z,A?[A[2*l],A[2*l+1],0]:m),new bh([u[3*M],u[3*M+1],u[3*M+2]],Z,A?[A[2*M],A[2*M+1],0]:m)],V));return z},Dm=[F,U,Y,r,M,B],th=Dm.concat("csg"),zj=[0,6,12,18,24,30],ar=function(G,r,K){for(var q=f(G),X=[],B=0;6>B;B++)for(var T=Dm[B],p=zj[B],i=K?r.getFaceUv(G,T):m,A=K?r.getFaceUvScale(G,T):m,t=K?r.getFaceUvOffset(G,T):m,Q=0;2>Q;Q++){var j,O,g,P=c[p+3*Q],E=c[p+3*Q+1],V=c[p+3*Q+2];if(K){if(i){var _=8*B;j=[i[2*P-_],i[2*P+1-_],0],O=[i[2*E-_],i[2*E+1-_],0],g=[i[2*V-_],i[2*V+1-_],0]}else j=[n[2*P],n[2*P+1],0],O=[n[2*E],n[2*E+1],0],g=[n[2*V],n[2*V+1],0];A&&(j[0]*=A[0],j[1]*=A[1],O[0]*=A[0],O[1]*=A[1],g[0]*=A[0],g[1]*=A[1]),t&&(j[0]+=t[0],j[1]+=t[1],O[0]+=t[0],O[1]+=t[1],g[0]+=t[0],g[1]+=t[1])}X.push(new Te([new bh(D([y[3*P],y[3*P+1],y[3*P+2]],q),Z,j),new bh(D([y[3*E],y[3*E+1],y[3*E+2]],q),Z,O),new bh(D([y[3*V],y[3*V+1],y[3*V+2]],q),Z,g)],G))}return yc.$15n(X)},ae=function(B,x){var q,r=B.data.getAttaches();if(r&&r.each(function(A){A instanceof Rn&&A.s("attach.operation")&&(q||(q=[]),q.push(A))}),q){var e;Dm.forEach(function(F){var m=rb(F,B[F].vs,B[F].tuv);e=e?e.concat(m):m}),e=yc.$15n(e),q.forEach(function(o){var q=o.s("attach.operation");e[q]&&(e=e[q](ar(o,B.gv,B.csg.tuv)))}),Dm.forEach(function($){$=B[$],$.vs=[],$.tuv&&($.tuv=[])}),e.$19n().forEach(function(R){var s=R.$10n;if(s instanceof Rn){if(s.s("attach.cull"))return;s="csg"}for(var j=B[s],a=j.vs,e=j.tuv,O=R.$9n,o=2;o<O.length;o++)i(a,O[0].$24n),i(a,O[o-1].$24n),i(a,O[o].$24n),e&&(i(e,O[0].uv,!0),i(e,O[o-1].uv,!0),i(e,O[o].uv,!0))})}th.forEach(function(T){var v=B[T];v.visible&&v.vs.length?(v.ns=_(v.vs),d(v,"vs"),d(v,"tuv")):delete B[T]}),x&&(s(B,m,x),B.clear())};K(H,{createFrameModel:function($,L,P,Z){$=$==m?.07:$,L=L==m?$:L,P=P==m?$:P,Z=Z?Z:{};var J=Z.top,E=Z.bottom,R=Z.left,b=Z.right,Q=Z.front,q=Z.back,B=[],y=[];return Q===!0?(B.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),y.push(0,0,0,1,1,1,1,1,1,0,0,0)):Q===!1||(B.push(-.5,.5,.5,-.5,-.5,.5,-.5+$,-.5,.5,-.5+$,-.5,.5,-.5+$,.5,.5,-.5,.5,.5,.5-$,.5,.5,.5-$,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-$,.5,.5,-.5+$,.5,.5,-.5+$,.5-L,.5,.5-$,.5-L,.5,.5-$,.5-L,.5,.5-$,.5,.5,-.5+$,.5,.5,-.5+$,-.5+L,.5,-.5+$,-.5,.5,.5-$,-.5,.5,.5-$,-.5,.5,.5-$,-.5+L,.5,-.5+$,-.5+L,.5),y.push(0,0,0,1,$,1,$,1,$,0,0,0,1-$,0,1-$,1,1,1,1,1,1,0,1-$,0,$,0,$,L,1-$,L,1-$,L,1-$,0,$,0,$,1-L,$,1,1-$,1,1-$,1,1-$,1-L,$,1-L)),q===!0?(B.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):q===!1||(B.push(-.5,.5,-.5,-.5+$,-.5,-.5,-.5,-.5,-.5,-.5+$,-.5,-.5,-.5,.5,-.5,-.5+$,.5,-.5,.5-$,.5,-.5,.5,-.5,-.5,.5-$,-.5,-.5,.5,-.5,-.5,.5-$,.5,-.5,.5,.5,-.5,-.5+$,.5,-.5,.5-$,.5-L,-.5,-.5+$,.5-L,-.5,.5-$,.5-L,-.5,-.5+$,.5,-.5,.5-$,.5,-.5,-.5+$,-.5+L,-.5,.5-$,-.5,-.5,-.5+$,-.5,-.5,.5-$,-.5,-.5,-.5+$,-.5+L,-.5,.5-$,-.5+L,-.5),y.push(1,0,1-$,1,1,1,1-$,1,1,0,1-$,0,$,0,0,1,$,1,0,1,$,0,0,0,1-$,0,$,L,1-$,L,$,L,1-$,0,$,0,1-$,1-L,$,1,1-$,1,$,1,1-$,1-L,$,1-L)),R===!0?(B.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),y.push(0,0,0,1,1,1,1,1,1,0,0,0)):R===!1||(B.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+P,-.5,-.5,-.5+P,-.5,.5,-.5+P,-.5,.5,-.5,-.5,.5,.5-P,-.5,-.5,.5-P,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-P,-.5,.5,-.5+P,-.5,.5-L,-.5+P,-.5,.5-L,.5-P,-.5,.5-L,.5-P,-.5,.5,.5-P,-.5,.5,-.5+P,-.5,-.5+L,-.5+P,-.5,-.5,-.5+P,-.5,-.5,.5-P,-.5,-.5,.5-P,-.5,-.5+L,.5-P,-.5,-.5+L,-.5+P),y.push(0,0,0,1,P,1,P,1,P,0,0,0,1-P,0,1-P,1,1,1,1,1,1,0,1-P,0,P,0,P,L,1-P,L,1-P,L,1-P,0,P,0,P,1-L,P,1,1-P,1,1-P,1,1-P,1-L,P,1-L)),b===!0?(B.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):b===!1||(B.push(.5,.5,-.5,.5,-.5,-.5+P,.5,-.5,-.5,.5,-.5,-.5+P,.5,.5,-.5,.5,.5,-.5+P,.5,.5,.5-P,.5,-.5,.5,.5,-.5,.5-P,.5,-.5,.5,.5,.5,.5-P,.5,.5,.5,.5,.5,-.5+P,.5,.5-L,.5-P,.5,.5-L,-.5+P,.5,.5-L,.5-P,.5,.5,-.5+P,.5,.5,.5-P,.5,-.5+L,-.5+P,.5,-.5,.5-P,.5,-.5,-.5+P,.5,-.5,.5-P,.5,-.5+L,-.5+P,.5,-.5+L,.5-P),y.push(1,0,1-P,1,1,1,1-P,1,1,0,1-P,0,P,0,0,1,P,1,0,1,P,0,0,0,1-P,0,P,L,1-P,L,P,L,1-P,0,P,0,1-P,1-L,P,1,1-P,1,P,1,1-P,1-L,P,1-L)),J===!0?(B.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),y.push(1,1,1,0,0,0,0,0,0,1,1,1)):J===!1||(B.push(.5,.5,.5,.5,.5,-.5,.5-$,.5,-.5,.5-$,.5,-.5,.5-$,.5,.5,.5,.5,.5,-.5+$,.5,.5,-.5+$,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+$,.5,.5,.5-$,.5,.5,.5-$,.5,.5-P,-.5+$,.5,.5-P,-.5+$,.5,.5-P,-.5+$,.5,.5,.5-$,.5,.5,.5-$,.5,-.5+P,.5-$,.5,-.5,-.5+$,.5,-.5,-.5+$,.5,-.5,-.5+$,.5,-.5+P,.5-$,.5,-.5+P),y.push(1,1,1,0,1-$,0,1-$,0,1-$,1,1,1,$,1,$,0,0,0,0,0,0,1,$,1,1-$,1,1-$,1-P,$,1-P,$,1-P,$,1,1-$,1,1-$,P,1-$,0,$,0,$,0,$,P,1-$,P)),E===!0?(B.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):E===!1||(B.push(.5,-.5,.5,.5-$,-.5,-.5,.5,-.5,-.5,.5-$,-.5,-.5,.5,-.5,.5,.5-$,-.5,.5,-.5+$,-.5,.5,-.5,-.5,-.5,-.5+$,-.5,-.5,-.5,-.5,-.5,-.5+$,-.5,.5,-.5,-.5,.5,.5-$,-.5,.5,-.5+$,-.5,.5-P,.5-$,-.5,.5-P,-.5+$,-.5,.5-P,.5-$,-.5,.5,-.5+$,-.5,.5,.5-$,-.5,-.5+P,-.5+$,-.5,-.5,.5-$,-.5,-.5,-.5+$,-.5,-.5,.5-$,-.5,-.5+P,-.5+$,-.5,-.5+P),y.push(1,0,1-$,1,1,1,1-$,1,1,0,1-$,0,$,0,0,1,$,1,0,1,$,0,0,0,1-$,0,$,P,1-$,P,$,P,1-$,0,$,0,1-$,1-P,$,1,1-$,1,$,1,1-$,1-P,$,1-P)),{vs:B,uv:y}}}),K(v.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":X,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":E/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Dm.forEach(function(u){var h={};h[u+b]=!1,h[u+".toggleable"]=!1,h[u+".axis"]=F,h[u+".start"]=0,h[u+".end"]=E/2,h[u+Q]=0,K(v.Style,h,!0)});var yc=function(){this.$4n=[]};yc.$15n=function(g){var L=new yc;return L.$4n=g,L},yc.prototype={clone:function(){var $=new yc;return $.$4n=this.$4n.map(function(N){return N.clone()}),$},$19n:function(){return this.$4n},union:function(f){var B=new eb(this.clone().$4n),p=new eb(f.clone().$4n);return B.$3n(p),p.$3n(B),p.$6n(),p.$3n(B),p.$6n(),B.$7n(p.$2n()),yc.$15n(B.$2n())},subtract:function(b){var v=new eb(this.clone().$4n),w=new eb(b.clone().$4n);return v.$6n(),v.$3n(w),w.$3n(v),w.$6n(),w.$3n(v),w.$6n(),v.$7n(w.$2n()),v.$6n(),yc.$15n(v.$2n())},intersect:function(C){var v=new eb(this.clone().$4n),$=new eb(C.clone().$4n);return v.$6n(),$.$3n(v),$.$6n(),v.$3n($),$.$3n(v),v.$7n($.$2n()),v.$6n(),yc.$15n(v.$2n())},inverse:function(){var k=this.clone();return k.$4n.map(function(h){h.flip()}),k}},yc.cube=function(Z){Z=Z||{};var V=new Cc(Z.center||[0,0,0]),W=Z.radius?Z.radius.length?Z.radius:[Z.radius,Z.radius,Z.radius]:[1,1,1];return yc.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(p){return new Te(p[0].map(function(y){var G=new Cc(V.x+W[0]*(2*!!(1&y)-1),V.y+W[1]*(2*!!(2&y)-1),V.z+W[2]*(2*!!(4&y)-1));return new bh(G,new Cc(p[1]))}))}))},yc.sphere=function(N){function C(U,b){U*=2*E,b*=E;var f=new Cc(e(U)*O(b),e(b),O(U)*O(b));P.push(new bh(s.$20n(f.$21n(K)),f))}N=N||{};for(var P,s=new Cc(N.center||[0,0,0]),K=N.radius||1,t=N.slices||16,M=N.stacks||8,k=[],x=0;t>x;x++)for(var m=0;M>m;m++)P=[],C(x/t,m/M),m>0&&C((x+1)/t,m/M),M-1>m&&C((x+1)/t,(m+1)/M),C(x/t,(m+1)/M),k.push(new Te(P));return yc.$15n(k)},yc.cylinder=function(u){function X(h,A,C){var l=2*A*E,F=i.$21n(e(l)).$20n(V.$21n(O(l))),z=b.$20n(s.$21n(h)).$20n(F.$21n(c)),K=F.$21n(1-w(C)).$20n(J.$21n(C));return new bh(z,K)}u=u||{};for(var b=new Cc(u.start||[0,-1,0]),f=new Cc(u.end||[0,1,0]),s=f.$13n(b),c=u.radius||1,L=u.slices||16,J=s.$14n(),M=w(J.y)>.5,i=new Cc(M,!M,0).$12n(J).$14n(),V=i.$12n(J).$14n(),t=new bh(b,J.$11n()),I=new bh(f,J.$14n()),r=[],A=0;L>A;A++){var d=A/L,n=(A+1)/L;r.push(new Te([t,X(0,d,-1),X(0,n,-1)])),r.push(new Te([X(0,n,0),X(0,d,0),X(1,d,0),X(1,n,0)])),r.push(new Te([I,X(1,n,1),X(1,d,1)]))}return yc.$15n(r)};var Cc=function(W,O,U){var L=this;3==arguments.length?(L.x=W,L.y=O,L.z=U):"x"in W?(L.x=W.x,L.y=W.y,L.z=W.z):(L.x=W[0],L.y=W[1],L.z=W[2])};Cc.prototype={clone:function(){return new Cc(this.x,this.y,this.z)},$11n:function(){return new Cc(-this.x,-this.y,-this.z)},$20n:function(r){return new Cc(this.x+r.x,this.y+r.y,this.z+r.z)},$13n:function(d){return new Cc(this.x-d.x,this.y-d.y,this.z-d.z)},$21n:function(G){return new Cc(this.x*G,this.y*G,this.z*G)},$16n:function(X){return new Cc(this.x/X,this.y/X,this.z/X)},$23n:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lerp:function(h,i){return this.$20n(h.$13n(this).$21n(i))},length:function(){return W(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(T){var R=this;return new Cc(R.y*T.z-R.z*T.y,R.z*T.x-R.x*T.z,R.x*T.y-R.y*T.x)}};var bh=function(Z,V,K){var f=this;f.$24n=new Cc(Z),f.$22n=new Cc(V),f.uv=K?new Cc(K):null};bh.prototype={clone:function(){var _=this;return new bh(_.$24n.clone(),_.$22n.clone(),_.uv?_.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(z,m){var W=this;return new bh(W.$24n.lerp(z.$24n,m),W.$22n.lerp(z.$22n,m),W.uv?W.uv.lerp(z.uv,m):null)}};var xg=function(X,D){this.$22n=X,this.w=D};xg.$17n=function(g,S,D){var m=S.$13n(g).$12n(D.$13n(g)).$14n();return new xg(m,m.$23n(g))},xg.prototype={clone:function(){return new xg(this.$22n.clone(),this.w)},flip:function(){var B=this;B.$22n=B.$22n.$11n(),B.w=-B.w},$5n:function(c,x,t,F,N){for(var D=this,S=0,X=1,b=2,s=3,y=0,r=[],H=0;H<c.$9n.length;H++){var l=D.$22n.$23n(c.$9n[H].$24n)-D.w,p=-R>l?b:l>R?X:S;y|=p,r.push(p)}switch(y){case S:(D.$22n.$23n(c.$8n.$22n)>0?x:t).push(c);break;case X:F.push(c);break;case b:N.push(c);break;case s:for(var v=[],M=[],H=0;H<c.$9n.length;H++){var i=(H+1)%c.$9n.length,q=r[H],h=r[i],B=c.$9n[H],d=c.$9n[i];if(q!=b&&v.push(B),q!=X&&M.push(q!=b?B.clone():B),(q|h)==s){var l=(D.w-this.$22n.$23n(B.$24n))/D.$22n.$23n(d.$24n.$13n(B.$24n)),j=B.$18n(d,l);v.push(j),M.push(j.clone())}}v.length>=3&&F.push(new Te(v,c.$10n)),M.length>=3&&N.push(new Te(M,c.$10n))}}};var Te=function(g,X){var _=this;_.$9n=g,_.$10n=X,_.$8n=xg.$17n(g[0].$24n,g[1].$24n,g[2].$24n)};Te.prototype={clone:function(){var Z=this.$9n.map(function(e){return e.clone()});return new Te(Z,this.$10n)},flip:function(){this.$9n.reverse().map(function(f){f.flip()}),this.$8n.flip()}};var eb=function(z){var B=this;B.$8n=null,B.front=null,B.back=null,B.$4n=[],z&&B.$7n(z)};eb.prototype={clone:function(){var i=this,p=new eb;return p.$8n=i.$8n&&i.$8n.clone(),p.front=i.front&&i.front.clone(),p.back=i.back&&i.back.clone(),p.$4n=i.$4n.map(function(d){return d.clone()}),p},$6n:function(){for(var C=this,o=0;o<C.$4n.length;o++)C.$4n[o].flip();C.$8n.flip(),C.front&&C.front.$6n(),C.back&&C.back.$6n();var v=C.front;C.front=C.back,C.back=v},$1n:function(g){var J=this;if(!J.$8n)return g.slice();for(var _=[],r=[],C=0;C<g.length;C++)J.$8n.$5n(g[C],_,r,_,r);return J.front&&(_=J.front.$1n(_)),r=J.back?J.back.$1n(r):[],_.concat(r)},$3n:function(j){var C=this;C.$4n=j.$1n(C.$4n),C.front&&C.front.$3n(j),C.back&&C.back.$3n(j)},$2n:function(){var o=this,Y=o.$4n.slice();return o.front&&(Y=Y.concat(o.front.$2n())),o.back&&(Y=Y.concat(o.back.$2n())),Y},$7n:function(d){var W=this;if(d.length){W.$8n||(W.$8n=d[0].$8n.clone());for(var O=[],e=[],L=0;L<d.length;L++)this.$8n.$5n(d[L],W.$4n,W.$4n,O,e);O.length&&(W.front||(W.front=new eb),this.front.$7n(O)),e.length&&(W.back||(W.back=new eb),W.back.$7n(e))}}};var ij="symbol",Dh=v.Symbol=function(Q,k,q){var z=this;g(Dh,z),z.s3(20,20,20),z.s({"all.visible":!1,shape:"rect"}),z.setIcon(Q,k,q)};p("Symbol",G,{setIcon:function(q,D,r){var C,K=this;return Dh.superClass.setIcon.call(K,q),q?(C={for3d:!0,face:"center",position:44,names:[q]},r&&(C.transaprent=!0),D&&(C.autorotate=D),K.addStyleIcon(ij,C)):K.removeStyleIcon(ij),K.setWidth(S.getImageWidth(H.getImage(q),K)||20),C}});var Rn=v.CSGNode=function(){g(Rn,this),this.s({shape:"rect","attach.thickness":1.001})},ph={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};p("CSGNode",G,{_22Q:function(){return oj},onPropertyChanged:function(j){var U=this,K=U.getHost();Rn.superClass.onPropertyChanged.call(U,j),ph[j.property]&&(K instanceof Sj||K instanceof Rn)&&K.fp("csgNodeChange",!0,!1)}});var oj=function(q,U){g(oj,this,[q,U])};C(oj,P.Node3dUI,{_80o:function(Q,X,v){var r=this;r._shape3d?oj.superClass._80o.call(r,Q,X,v):(j(r.gv),th.forEach(function(O){I(r,Q,X,r[O],v)}))},validate:function(W,$){var h=this,N=h.gv,V=h.data;if(V.s("shape3d"))return oj.superClass.validate.call(h,W,$),h._shape3d=!0,void 0;h._shape3d=!1;var S=f(V,N.getMat(V)),w=W&&W.uv;h.vf2("csg",w);for(var l=0;6>l;l++)for(var D=Dm[l],r=zj[l],o=h.vf2(D,w,$),G=o.mat||S,i=o.vs,q=o.uv,F=o.tuv,R=0;2>R;R++){var j=c[r+3*R],Z=c[r+3*R+1],z=c[r+3*R+2];if(A(i,G,[y[3*j],y[3*j+1],y[3*j+2]]),A(i,G,[y[3*Z],y[3*Z+1],y[3*Z+2]]),A(i,G,[y[3*z],y[3*z+1],y[3*z+2]]),F)if(q){var L=8*l;F.push(q[2*j-L],q[2*j+1-L],q[2*Z-L],q[2*Z+1-L],q[2*z-L],q[2*z+1-L])}else F.push(n[2*j],n[2*j+1],n[2*Z],n[2*Z+1],n[2*z],n[2*z+1])}ae(h,W,$)},vf2:function(N,O,R){var w,D=this,T=D.gv.getFaceVisible(D.data,N);return w=l(D,N,R),w.vs=[],w.tuv=T&&(w.texture||O)?[]:m,w.visible=T,w}});var Sj=v.CSGShape=function(){var Q=this;g(Sj,Q),Q.s({"shape.background":m,"shape.border.width":8}),Q.setTall(240),Q.setElevation(120),Q.setThickness(14)};p("CSGShape",T,{IRotatable:!1,_22Q:function(){return di},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var di=function(o,D){g(di,this,[o,D])};C(di,P.Shape3dUI,{_80o:function(k,o,Z){var K=this;K.undrawable||(j(K.gv),th.forEach(function(r){I(K,k,o,K[r],Z)}))},validate:function(t,h){var d=this,D=d.data,F=D.getPoints();if(d.undrawable=F.size()<2)return d.clear(),void 0;var M=D.isClosePath(),G=V(D._thickness/2,R),C=q(F,m,m,M);th.forEach(function(V){d.vf(V,t&&t.uv,!0,h)}),M&&(d.left.visible=!1,d.right.visible=!1),d._12O(C,G),d._20Q(C),ae(d,t,h)}});var sj=v.DoorWindow=function(){var t=this;g(sj,t),t.setElevation(100),t.s3(100,200,14)};p("DoorWindow",Rn,{IDoorWindow:!0,toggle:function(u){this.setExpanded(!this.s(k),u)},isExpanded:function(){return this.s(k)},setExpanded:function(X,v){var z=this,J=z.$25n,S=z.getDataModel(),i=z.s(k);if(J&&(J.stop(!0),delete z.$25n),i!==X){S&&S.beginTransaction();var s=X?z.s("dw.end"):z.s("dw.start");z.s(k,X),v=x(v),v?(i=z.s($),v.action=function(B){z.s($,i+(s-i)*B)},v.finishFunc=function(){S&&S.endTransaction()},z.$25n=L(v)):(z.s($,s),S&&S.endTransaction())}},getMat:function(){var V=this,Q=V.s("dw.s3"),l=V.s("dw.t3"),n=V.s("dw.flip"),p=V.s($);if(Q||p||l||n){var S=[];if(n&&S.push({r3:[0,E,0]}),Q&&S.push({s3:Q}),p){Q=V.s3();var D=V.s("dw.axis"),v=Q[0]/2,x=Q[1]/2;Q[2]/2,D===F?S.push({t3:[v,0,0]},{r3:[0,-p,0]},{t3:[-v,0,0]}):D===Y?S.push({t3:[-v,0,0]},{r3:[0,p,0]},{t3:[v,0,0]}):D===M?S.push({t3:[0,-x,0]},{r3:[-p,0,0]},{t3:[0,x,0]}):D===B?S.push({t3:[0,x,0]},{r3:[p,0,0]},{t3:[0,-x,0]}):D===t?S.push({r3:[0,p,0]}):D===o&&S.push({r3:[p,0,0]})}return l&&S.push({t3:l}),N(S)}return m}});var fh=v.CSGBox=function(){var b=this;g(fh,b),b.setElevation(100),b.s3(100,200,100)};p("CSGBox",Rn,{ICSGBox:!0,toggleFace:function(t,T){this.setFaceExpanded(t,!this.s(t+b),T)},isFaceExpanded:function(q){return this.s(q+b)},setFaceExpanded:function(w,o,s){var y=this,M=y.$25n,J=y.s(w+b);if(M&&(M.stop(!0),delete y.$25n),J!==o){var A=o?y.s(w+".end"):y.s(w+".start");y.s(w+b,o),s=x(s),s?(J=y.s(w+Q),s.action=function(B){y.s(w+Q,J+(A-J)*B)},y.$25n=L(s)):y.s(w+Q,A)}},getFaceMat:function(K){var e=this,u=e.s(K+Q);if(!u)return m;var S=e.s(K+".axis"),O=e.s3(),i=O[0]/2,$=O[1]/2,n=O[2]/2,T=[];return K===U&&(S===F?T.push({t3:[i,0,-n]},{r3:[0,-u,0]},{t3:[-i,0,n]}):S===Y?T.push({t3:[-i,0,-n]},{r3:[0,u,0]},{t3:[i,0,n]}):S===M?T.push({t3:[0,-$,-n]},{r3:[-u,0,0]},{t3:[0,$,n]}):S===B?T.push({t3:[0,$,-n]},{r3:[u,0,0]},{t3:[0,-$,n]}):S===t?T.push({t3:[0,0,-n]},{r3:[0,u,0]},{t3:[0,0,n]}):S===o&&T.push({t3:[0,0,-n]},{r3:[u,0,0]},{t3:[0,0,n]})),K===r&&(S===F?T.push({t3:[-i,0,n]},{r3:[0,-u,0]},{t3:[i,0,-n]}):S===Y?T.push({t3:[i,0,n]},{r3:[0,u,0]},{t3:[-i,0,-n]}):S===M?T.push({t3:[0,-$,n]},{r3:[u,0,0]},{t3:[0,$,-n]}):S===B?T.push({t3:[0,$,n]},{r3:[-u,0,0]},{t3:[0,-$,-n]}):S===t?T.push({t3:[0,0,n]},{r3:[0,u,0]},{t3:[0,0,-n]}):S===o&&T.push({t3:[0,0,n]},{r3:[u,0,0]},{t3:[0,0,-n]})),K===F&&(S===F?T.push({t3:[i,0,n]},{r3:[0,-u,0]},{t3:[-i,0,-n]}):S===Y?T.push({t3:[i,0,-n]},{r3:[0,u,0]},{t3:[-i,0,n]}):S===M?T.push({t3:[i,-$,0]},{r3:[0,0,-u]},{t3:[-i,$,0]}):S===B?T.push({t3:[i,$,0]},{r3:[0,0,u]},{t3:[-i,-$,0]}):S===t?T.push({t3:[i,0,0]},{r3:[0,u,0]},{t3:[-i,0,0]}):S===o&&T.push({t3:[i,0,0]},{r3:[0,0,u]},{t3:[-i,0,0]})),K===Y&&(S===F?T.push({t3:[-i,0,-n]},{r3:[0,-u,0]},{t3:[i,0,n]}):S===Y?T.push({t3:[-i,0,n]},{r3:[0,u,0]},{t3:[i,0,-n]}):S===M?T.push({t3:[-i,-$,0]},{r3:[0,0,u]},{t3:[i,$,0]}):S===B?T.push({t3:[-i,$,0]},{r3:[0,0,-u]},{t3:[i,-$,0]}):S===t?T.push({t3:[-i,0,0]},{r3:[0,u,0]},{t3:[i,0,0]}):S===o&&T.push({t3:[-i,0,0]},{r3:[0,0,u]},{t3:[i,0,0]})),K===M&&(S===F?T.push({t3:[i,-$,0]},{r3:[0,0,u]},{t3:[-i,$,0]}):S===Y?T.push({t3:[-i,-$,0]},{r3:[0,0,-u]},{t3:[i,$,0]}):S===M?T.push({t3:[0,-$,n]},{r3:[-u,0,0]},{t3:[0,$,-n]}):S===B?T.push({t3:[0,-$,-n]},{r3:[u,0,0]},{t3:[0,$,n]}):S===t?T.push({t3:[0,-$,0]},{r3:[0,0,u]},{t3:[0,$,0]}):S===o&&T.push({t3:[0,-$,0]},{r3:[u,0,0]},{t3:[0,$,0]})),K===B&&(S===F?T.push({t3:[i,$,0]},{r3:[0,0,-u]},{t3:[-i,-$,0]}):S===Y?T.push({t3:[-i,$,0]},{r3:[0,0,u]},{t3:[i,-$,0]}):S===M?T.push({t3:[0,$,-n]},{r3:[-u,0,0]},{t3:[0,-$,n]}):S===B?T.push({t3:[0,$,n]},{r3:[u,0,0]},{t3:[0,-$,-n]}):S===t?T.push({t3:[0,$,0]},{r3:[0,0,u]},{t3:[0,-$,0]}):S===o&&T.push({t3:[0,$,0]},{r3:[u,0,0]},{t3:[0,-$,0]})),N(T)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);